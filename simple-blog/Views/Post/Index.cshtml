@model IEnumerable<simple_blog.Models.Post>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>All Posts</h2>
@foreach (var post in Model)
{
<article>
    <div class="row">
        <div class="col-sm-6 col-md-12">
            @{
                if (@post.image != null)
                {
                    string imageBase64 = Convert.ToBase64String(@post.image);
                    string imageSrc = string.Format("data:image/*;base64,{0}", imageBase64);
                    <img src="@imageSrc" width="100" height="100" />
                }
            }
            <h4>@post.title</h4>
            <p>@post.description</p>
            <h4>Category: @post.Category.name</h4>
            @Html.ActionLink("Details", "Details", "Post", new { id = post.id }, new { @class = "btn btn-primary" })
        </div>
    </div>
</article>
}